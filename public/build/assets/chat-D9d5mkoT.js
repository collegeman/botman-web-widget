import{c as r,o as i,a,r as d,b as h,t as _,w as u,n as p,d as $,_ as g,e as b,f as l,g as c,u as v,h as w,i as k,j as y}from"./_plugin-vue_export-helper-0LHwaJtC.js";const C=["innerHTML"],M=["innerHTML"],x={__name:"ChatHeader",emits:["back","close"],setup(t,{emit:e}){const n=e;return(s,o)=>(i(),r("div",{class:p(["shrink-0 p-2 relative",{"rounded-t-lg":!s.$store.state.config.isMobile}]),style:$({backgroundColor:s.$store.state.config.mainColor})},[a("div",{class:"flex-grow text-white text-sm text-center cursor-pointer",onClick:o[0]||(o[0]=u(f=>n("close"),["prevent"]))},[d(s.$slots,"content",{},()=>[h(_(s.$store.state.title),1)])]),a("button",{class:"absolute left-2 top-1/2 -translate-y-1/2 outline-none text-white text-sm",onClick:o[1]||(o[1]=u(f=>n("back"),["prevent"]))},[a("span",{class:"icon block h-4 w-4",innerHTML:s.$store.state.config.icons.back},null,8,C),o[3]||(o[3]=a("span",{class:"sr-only"},"Back",-1))]),a("button",{class:p(["absolute right-2 top-1/2 -translate-y-1/2 outline-none text-white text-sm",{hidden:!s.$store.state.config.isMobile}]),onClick:o[2]||(o[2]=u(f=>n("close"),["prevent"]))},[a("span",{class:"icon block h-4 w-4",innerHTML:s.$store.state.config.icons.close},null,8,M),o[4]||(o[4]=a("span",{class:"sr-only"},"Close",-1))],2)],6))}},B={},L={class:"flex-grow overflow-y-auto"};function S(t,e){return i(),r("div",L,[d(t.$slots,"default")])}const T=g(B,[["render",S]]),H={},E={class:"flex"};function N(t,e){return i(),r("div",E,[d(t.$slots,"default")])}const V=g(H,[["render",N]]),z={__name:"ChatPage",props:{id:{type:String,required:!0}},setup(t){return(e,n)=>(i(),r("div",null,[d(e.$slots,"heading")]))}},W={__name:"Chat",setup(t){window.addEventListener("message",n=>{var s;((s=n.data)==null?void 0:s.type)==="botman-web-widget.widget.toggle"&&($store.state.open=n.data.data.open)}),b(()=>l("chat.init"));const e=()=>{l("chat.back")};return document.addEventListener("keydown",n=>{n.key==="Escape"&&l("chat.esc")}),(n,s)=>(i(),r("div",{class:p(["flex flex-col bg-gray-100 border-gray-200 p-0 h-screen",{"rounded-lg border":!n.$store.state.config.isMobile}])},[c(x,{onBack:e,onClose:s[0]||(s[0]=o=>v(l)("chat.close"))}),c(T,null,{default:w(()=>[c(z,{id:"home",title:"Start a conversation",description:"What channel do you prefer?"})]),_:1}),c(V)],2))}},m=k(W),j=y({state:{config:window.botmanWidget,open:!1,title:"Chat",messages:[],conversation:null},mutations:{setTitle(t,e){t.title=e},setOpen(t,e){t.open=e},addMessage(t,e){t.messages.push(e)},setMessages(t,e){t.messages=e},setConversation(t,e){t.conversation=e}}});m.use(j);m.mount("#chat");
