const n=window.screen.width<640;let d=window.botmanWidget,h=new String(n?d.mobileWidth:d.desktopWidth);h.indexOf("%")===-1&&(h+="px");let g=new String(n?d.mobileHeight:d.desktopHeight);g.indexOf("%")===-1&&(g+="px");let c=d.frameEndpoint;n&&(c.indexOf("?")===-1?c+="?mobile=true":c+="&mobile=true");let m=d.beaconEndpoint;n&&(m.indexOf("?")===-1?m+="?mobile=true":m+="&mobile=true");let t=document.createElement("iframe");t.src=c;t.style.position="fixed";t.style.bottom=n?"0":"120px";t.style.right=n?"0":"40px";t.style.zIndex="1200";t.style.width=h;t.style.height=g;t.style.border="none";t.style.display="none";document.body.appendChild(t);let o=document.createElement("iframe");o.src=m;o.style.position="fixed";o.style.bottom=n?"20px":"40px";o.style.right=n?"20px":"40px";o.style.zIndex="1000";o.style.width=d.beaconSize+15+"px";o.style.height=d.beaconSize+15+"px";o.style.border="none";document.body.appendChild(o);let s=!1;const x=(e,a)=>{let i={method:e,params:a};t.contentWindow.postMessage(i),o.contentWindow.postMessage(i)},y=(e,a)=>{let i={method:e,params:a};o.contentWindow.postMessage(i)},r=e=>{var a,i;((a=e.data.method)==null?void 0:a.indexOf("botman-web-widget.chat."))!==-1&&y(e.data.method,e.data.params),((i=e.data.method)==null?void 0:i.indexOf("botman-web-widget.beacon."))!==-1&&x(e.data.method,e.data.params)},b=()=>{r({data:{method:"botman-web-widget.widget.toggle",params:{open:s}}}),t.style.display=s?"block":"none"},l={open(){s=!0,b()},close(){s=!1,b()},toggle(){s=!s,b()},say(e){},whisper(e){},sayAsBot(e){}},u=()=>{window.botmanChatWidget=l};window.addEventListener("message",e=>{var a,i,w,p,f;r(e),((a=e.data)==null?void 0:a.method)==="botman-web-widget.chat.init"&&u(),((i=e.data)==null?void 0:i.method)==="botman-web-widget.beacon.click"&&l.toggle(),((w=e.data)==null?void 0:w.method)==="botman-web-widget.chat.close"&&l.close(),((p=e.data)==null?void 0:p.method)==="botman-web-widget.chat.esc"&&l.close(),((f=e.data)==null?void 0:f.method)==="botman-web-widget.beacon.esc"&&l.close()});
